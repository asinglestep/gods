# B树

## 一、性质
（1）每个节点的关键字以非降序存放。  
（2）每个叶节点具有相同的深度，为树的高度。  
（3）每个非根节点至少有t-1个关键字，非根的内节点至少有t个子女，如果树是非空的，根节点至少有一个关键字（t最小度数，t >= 2）。  
（4）每个节点最多含有2t-1个关键字，每个内节点最多有2t个子女（t最小度数，t >= 2）。

## 二、插入
### 2.1 经过的节点是满节点
对该节点进行分裂。

### 2.2 经过的节点不是满节点，且不是叶子节点。
继续查找key插入的位置。

### 2.3 经过的节点不是满节点，且是叶子节点。
直接插入新的key。

## 三、删除
### 3.1 删除
#### 3.1.1 找到的节点为叶子节点
直接删除。

#### 3.1.2 找到的节点不是叶子节点
##### 3.1.2.1 key的右侧相邻节点至少有t个关键字
找到后继节点，用后继节点的key替换key，删除后继节点的key。

##### 3.1.2.2 key的右侧相邻节点只有t-1个关键字
找到前驱节点，用前驱节点的key替换key，删除前驱节点的key。

### 3.2 删除修复
#### 3.2.1 修复的节点为根节点
##### 3.2.1.1 根节点至少有1个关键字
不需要修复。

##### 3.2.1.2 根节点的关键字为0
修改t.root。

#### 3.2.2 修复的节点至少有t-1个关键字
不需要修复。

#### 3.2.3 相邻节点至少有t个关键字
将父节点的key加到修复节点中，将相邻节点的一个key替换父节点的key，将相邻节点这个key的子节点移到修复节点，修复结束。

#### 3.2.4 相邻节点只有t-1个关键字
将父节点的一个key、修复节点和相邻节点合并，继续对父节点进行修复。